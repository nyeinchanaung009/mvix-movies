import{_,r as i,o as s,i as l,k as w,j as M,f as e,e as n,w as h,h as r,g as m,l as p,t as B,u as d,M as C,b as $,P as D}from"./index-150c482e.js";import{T as j}from"./Trailericon-3ca0b7c3.js";import{C as q,M as T}from"./MySkeleton-ac74ad61.js";import{_ as U}from"./user-efc107aa.js";const F={props:["data"],data(){return{baseImgURL:"https://image.tmdb.org/t/p/original/"}}},N={id:"castcard",class:"mb-3"},P=["src"],V=e("img",{class:"w-full h-full object-cover object-center saturate-50 opacity-90",src:U,alt:"cast image"},null,-1);function L(a,c,f,y,t,v){const u=i("router-link");return s(!0),l(M,null,w(this.data,o=>(s(),l("div",{key:o.id},[e("div",N,[o.profile_path!=null?(s(),n(u,{key:0,to:`/castdetail/${o.id}`,class:"w-[100px] h-[100px] mx-auto ring-1 ring-offset-[3px] ring-slate-700/80 ring-offset-bg1 block rounded-full overflow-hidden hover:ring-cyan-600/80 hover:opacity-80 duration-100"},{default:h(()=>[e("img",{class:"w-full h-full object-cover object-center",src:`${this.baseImgURL}${o.profile_path}`,alt:"cast image"},null,8,P)]),_:2},1032,["to"])):r("",!0),o.profile_path==null?(s(),n(u,{key:1,to:`/castdetail/${o.id}`,class:"w-[100px] h-[100px] mx-auto ring-1 ring-offset-[3px] ring-slate-700/80 ring-offset-bg1 block rounded-full overflow-hidden hover:ring-cyan-600/80 hover:opacity-80 duration-100"},{default:h(()=>[V]),_:2},1032,["to"])):r("",!0),m(u,{to:`/castdetail/${o.id}`,class:"block text-textmute text-xs py-2 text-center hover:text-textpri"},{default:h(()=>[p(B(o.name),1)]),_:2},1032,["to"])])]))),128)}const W=_(F,[["render",L]]),I={data(){return{searchtype:this.$route.query.type,searchdata:this.$route.query.data,foundmovies:[],foundseries:[],foundcasts:[],fmovieloading:!0,fserieloading:!0,fcastloading:!0}},methods:{async getMoviesByDiscover(){const a=this.searchtype=="year"?"primary_release_year":"with_genres",c=await d(`discover/movie?include_adult=true&include_video=false&language=en-US&page=1&sort_by=popularity.desc&${a}=${this.searchdata}`);this.foundmovies=c.results,setTimeout(()=>{this.fmovieloading=!1},800)},async getSeriesByDiscover(){const a=this.searchtype=="year"?"primary_release_year":"with_genres",c=await d(`discover/tv?include_adult=true&include_video=false&language=en-US&page=1&sort_by=popularity.desc&${a}=${this.searchdata}`);this.foundseries=c.results,setTimeout(()=>{this.fserieloading=!1},800)},async getMoviesBySearch(){const a=await d(`search/movie?query=${this.searchdata}&include_adult=true&language=en-US&page=1`);this.foundmovies=a.results,setTimeout(()=>{this.fmovieloading=!1},800)},async getSeriesBySearch(){const a=await d(`search/tv?query=${this.searchdata}&include_adult=true&language=en-US&page=1`);this.foundseries=a.results,setTimeout(()=>{this.fserieloading=!1},800)},async getCastsBySearch(){const a=await d(`search/person?query=${this.searchdata}&include_adult=true&language=en-US&page=1`);this.foundcasts=a.results},getDataByDiscover(){this.getMoviesByDiscover(),this.getSeriesByDiscover()},getDataBySearch(){this.getMoviesBySearch(),this.getSeriesBySearch(),this.getCastsBySearch()},initSearch(){this.searchtype=="genre"||this.searchtype=="year"?this.getDataByDiscover():this.searchtype=="str"&&this.getDataBySearch()}},mounted(){this.initSearch()},updated(){this.searchtype=this.$route.query.type,this.searchdata=this.$route.query.data,this.initSearch()},components:{Master:C,Trailericon:j,Movie:$,Person:D,CardMovieWrapper:q,CardCast:W,MySkeleton:T}},R={class:"px-3 md:w-[98%] mx-auto pt-2"},E={class:"flex justify-between items-center border border-accent2 rounded px-2 py-1 bg-cardbg"},z=e("h1",{class:"text-textpri flex-1 text-center me-6 md:me-14 tracking-wider"},[e("i",{class:"bi bi-search text-sm me-2 text-icon2"}),p("Search")],-1),A={key:0,class:"flex justify-start items-center w-[97%] mt-5 mb-5 ps-3 mx-auto"},G=e("h1",{class:"text-textmute ms-1 font-medium"},"Found Movies",-1),H={key:3,class:"flex justify-start items-center w-[97%] mt-5 mb-5 ps-3 mx-auto"},J=e("h1",{class:"text-textmute ms-1 font-medium"},"Found Series",-1),K={key:6,class:"w-[97%] mt-5 ps-3 mb-3 mx-auto"},O={class:"flex justify-start items-center mb-3"},Q=e("h1",{class:"text-textmute ms-1 font-medium"},"Found Casts",-1),X={class:"my-6"},Y={class:"grid grid-cols-3 sm:grid-cols-5 md:grid-cols-6 lg:grid-cols-7 xl:grid-cols-8 gap-2 sm:gap-2"},Z={key:7,class:"mt-14 pt-14"},ee=e("h1",{class:"text-textpri text-lg text-center"},[e("i",{class:"bi bi-exclamation-circle me-2 text-icon1"}),p("Not Found, "),e("span",{class:"text-base text-textmute"},"Search again")],-1),te=[ee];function se(a,c,f,y,t,v){const u=i("Movie"),o=i("CardMovieWrapper"),g=i("MySkeleton"),x=i("Trailericon"),b=i("Person"),S=i("CardCast"),k=i("Master");return s(),n(k,null,{default:h(()=>[e("div",R,[e("div",E,[e("button",{onClick:c[0]||(c[0]=ae=>this.$router.back()),class:"bi bi-arrow-left text-textpri px-2 py-1 rounded-full hover:bg-slate-600/20"}),z])]),t.foundmovies.length>0?(s(),l("div",A,[m(u,{class:"text-cyan-500 text-lg"}),G])):r("",!0),t.foundmovies.length>0&&!t.fmovieloading?(s(),n(o,{key:1,data:this.foundmovies,type:"movie"},null,8,["data"])):r("",!0),t.fmovieloading?(s(),n(g,{key:2})):r("",!0),t.foundseries.length>0?(s(),l("div",H,[m(x,{class:"text-cyan-500 text-lg"}),J])):r("",!0),t.foundseries.length>0&&!t.fserieloading?(s(),n(o,{key:4,data:this.foundseries,type:"tv"},null,8,["data"])):r("",!0),t.fserieloading?(s(),n(g,{key:5})):r("",!0),t.foundcasts.length>0?(s(),l("div",K,[e("div",O,[m(b,{class:"text-cyan-500 text-lg"}),Q]),e("div",X,[e("div",Y,[t.foundcasts?(s(),n(S,{key:0,data:t.foundcasts},null,8,["data"])):r("",!0)])])])):r("",!0),t.foundmovies.length<1&&t.foundseries.length<1&&t.foundcasts.length<1?(s(),l("div",Z,te)):r("",!0)]),_:1})}const ce=_(I,[["render",se]]);export{ce as default};
